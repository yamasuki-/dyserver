# 要件一覧

## 概要
WebAPIの呼び出しを検証するための多機能ダミーサーバー。
ローカルおよびAWS環境での動作を想定し、Webブラウザ経由で動的な設定変更・確認が可能。

## 1. 動作環境
- **ローカル環境**: 開発機等のローカルマシンで動作すること。
- **AWS環境**: AWSクラウド上で動作すること。

## 2. 設定管理
- **Web UI**: 設定操作を行うためのWebページ（管理画面）を持つこと。
- **永続化**: Webページで設定した内容を保存し、再起動後も維持できること。
- **読み込み**: 保存された設定内容をアプリケーションに読み込めること。
- **リセット**: 設定内容を初期状態に戻せること。
- **エクスポート**: 設定内容を外部ファイルとしてダウンロードできること。
- **インポート**: 外部ファイルから設定内容を取り込めること。

## 3. エンドポイント管理
- **動的作成**: 任意のパスを持つエンドポイントを複数作成できること。
- **メソッド制御**: エンドポイントごとに、以下のHTTPメソッドの有効/無効を個別に設定できること。
    - GET
    - POST
    - PUT
    - DELETE

## 4. レスポンス設定
- **動的レスポンス**: 各メソッド（GET/POST/PUT/DELETE）に対して、以下の要素を自由に設定できること。
    - ステータスコード
    - レスポンスヘッダー
    - レスポンスボディ
- **レスポンスセット**: 上記の要素（ステータス、ヘッダー、ボディ）を1つの「レスポンスセット」として管理できること。
- **複数セット保持**: 1つのメソッドに対して、複数のレスポンスセットを登録できること。

## 5. レスポンス切替ロジック
登録された複数のレスポンスセットから、以下の条件で応答するセットを動的に切り替えられること。
- **動的切替**: 設定により応答ロジックを変更可能。
- **ランダム**: 複数のセットからランダムで応答する機能。
- **条件付き応答**: リクエストの内容に基づき、特定のセットを応答する機能。
    - リクエストボディの特定キーの値
    - リクエストヘッダーの特定キーの値
    - クエリパラメータの特定キーの値
- **応答なし**: リクエストに対して応答を返さない設定が可能であること。

## 6. リクエストログ管理
- **ログ保存**: エンドポイントごとに、受信したリクエストの詳細（ヘッダー、ボディ、クエリ等）を保存できること。
- **全体設定**: 全エンドポイントに対して、ログ保存の有効/無効を一括で切り替えられること。
    - 無効化しても、既に保存された過去のログは削除されないこと。

## 7. レスポンスログ管理
- **ログ保存**: エンドポイントごとに、応答したレスポンスの詳細（ヘッダー、ボディ、クエリ等）を保存できること。
    - どのリクエストに対してどのようなレスポンスが返却されたかを記録すること。
- **全体設定**: 全エンドポイントに対して、ログ保存の有効/無効を一括で切り替えられること。
    - 無効化しても、既に保存された過去のログは削除されないこと。

## 8. ログ閲覧・操作
- **Web UI確認**: 保存されたリクエストログをWebページ上で確認できること。
- **フィルタリング**: 以下の条件でログを絞り込み表示できること。
    - エンドポイントパス
    - リクエストボディの特定キーの値
    - リクエストヘッダーの特定キーの値
    - クエリパラメータの特定キーの値
    - リクエストメソッド
- **検索**: ログ内容を検索できること。
- **並び替え**: ログを日時等でソートできること。
- **ページング**: 大量のログをページ分割して表示できること。
- **削除**:
    - 個別のログ削除
    - エンドポイントごとの一括削除
    - 全体削除
- **エクスポート**: 表示・フィルタされたログを以下の形式でファイル出力できること。
    - CSV
    - JSON
    - Excel

